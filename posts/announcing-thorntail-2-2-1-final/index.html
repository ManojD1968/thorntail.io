<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Thorntail Official Website"><link rel="icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="RSS Feed for thorntail.io" href="/rss.xml"><title>Announcing Thorntail 2.2.1.Final | Thorntail</title><link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="/assets/css/headers/header-default.css"><link rel="stylesheet" href="/assets/css/footers/footer-v1.css"><link rel="stylesheet" href="/assets/plugins/animate.css"><link rel="stylesheet" href="/assets/plugins/line-icons/line-icons.css"><link rel="stylesheet" href="/assets/plugins/parallax-slider/css/parallax-slider.css"><link rel="stylesheet" href="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.css"><link rel="stylesheet" href="/assets/css/theme-colors/default.css" id="style_color"><link rel="stylesheet" href="/assets/css/theme-skins/dark.css"><link rel="stylesheet" href="/assets/css/custom.css"><link rel="stylesheet" media="screen" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,800"><link rel="stylesheet" media="screen" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/default.min.css"><link rel="stylesheet" href="/css/site.css"></head><body><div class="header"><div class="container"><a href="/" class="logo"><img src="/images/thorntail_icon_rgb_64px.png" class="icon"><span style="font-size:20px;vertical-align:middle;color:#555;margin-left:10px">Thorntail</span></a><div class="topbar"><ul class="loginbar pull-right"><li class="hoverSelector"><a href="http://jboss.org">JBoss.org</a></li><li class="topbar-devider"></li><li class="hoverSelector"><a href="http://redhat.com">Red Hat</a></li><li class="hoverSelector"><img style="margin-left:10px" src="https://img.shields.io/maven-central/v/io.thorntail/bom.svg?maxAge=86400"></li></ul></div><button type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" class="navbar-toggle"><span class="sr-only">Toggle Navigation</span><span class="fa fa-bars"></span></button></div><div id="navbar" aria-expanded="false" class="navbar-collapse mega-menu navbar-responsive-collapse collapse"><div class="container"><ul class="nav navbar-nav"><li><a href="/generator" class="dropdown-toggle">Generator</a></li><li><a href="/archive">Blog</a></li><li><a href="/documentation">Documentation</a></li><li><a href="/community">Community</a></li><li class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Resources</a><ul class="dropdown-menu"><li><a href="/downloads">Downloads</a></li><li><a href="/resources">Presentations</a></li></ul></li></ul></div></div></div><div class="wrapper"><div class="breadcrumbs"><div class="container"><div class="pull-left"><h1>Blog</h1></div><div class="ul pull-right breadcrumb"><li class="active"><a href="/archive">Archive</a></li><li><span>Post</span></li></div></div></div><div class="container"><div class="row margin-top-20"><div class="col-md-10"><article id="article"><h1>Announcing Thorntail 2.2.1.Final</h1><div class="post-meta">By The Thorntail Team | Published Oct 30, 2018<span> | Updated Oct 31, 2018</span></div><div><div class="sect1">
<h2 id="_thorntail_2_2_1_final">Thorntail 2.2.1.Final</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Winter is coming, at least in the Northern Hemisphere, but we can stay warm with another Thorntail release! Say "hello" to Thorntail 2.2.1.Final!</p>
</div>
<div class="sect2">
<h3 id="_what_s_new">What&#8217;s New?</h3>
<div class="paragraph">
<p>For those of you who like to start your app from the IDE, this release brings a brand new Thorntail Runner.
To use it, just add the <code>io.thorntail:thorntail-runner:2.2.1.Final</code> dependency to your <code>pom.xml</code> and run the <code>Runner</code> class from your IDE.
Please note that only <code>war</code> packaging is supported. The <code>Runner</code> class javadoc describes the available system properties to configure the execution.</p>
</div>
<div class="paragraph">
<p>This release also contains several bugfixes from different areas of the product, such as MicroProfile Config, MicroProfile RestClient or the <code>topology-openshift</code> fraction.</p>
</div>
<div class="paragraph">
<p>Two new HowTos have been added: how to expose application metrics using MicroProfile Metrics and Prometheus, and how to do distributed tracing with MicroProfile OpenTracing and Jaeger.</p>
</div>
<div class="paragraph">
<p>There were other improvements around dependencies in some fractions.</p>
</div>
<!-- more -->
</div>
</div>
</div>
<div class="sect1">
<h2 id="__createswarm_is_deprecated">@CreateSwarm is deprecated</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>WARNING: Breaking changes!</strong></p>
</div>
<div class="paragraph">
<p><code>@CreateSwarm</code> annotation is now deprecated and shouldn&#8217;t be used anymore.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_config_keys_breaking_changes">Config keys breaking changes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>WARNING: Breaking changes!</strong></p>
</div>
<div class="paragraph">
<p>As an additional task on renaming from WildFly Swarm to Thorntail, all configuration keys had been renamed from <code>swarm.x.y</code> to <code>thorntail.x.y</code>.
The configuration system will still accept the old <code>swarm</code> names.
However, the old <code>swarm</code> prefix no longer works for certain system properties.
See <a href="https://issues.jboss.org/browse/THORN-2205">THORN-2205</a> for more details.
It is recommended to change all occurences of <code>-Dswarm.<strong></code> in all Thorntail invocations, including the Thorntail Maven plugin, to <code>-Dthorntail.</strong></code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">Changelog</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Release notes for 2.2.1.Final are available <a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12317020&amp;version=12339188">here</a>.</p>
</div>
<div class="sect2">
<h3 id="_bug">Bug</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1753">THORN-1753</a>] At least one example README is out of date - may be others (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1830">THORN-1830</a>] arquillian ignores swarm.http.port setting in project-defaults.yml  (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1890">THORN-1890</a>] Unable to Launch With OpenAPI Fraction using Swarm.run() from IDE (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-1982">THORN-1982</a>] microprofile-restclient Start Exception with ConfigProviderResolver (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2025">THORN-2025</a>] Swagger fraction does not respect pretty_print setting (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2125">THORN-2125</a>] MP Config TCK keeps failing (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2160">THORN-2160</a>] JOSE encrypt does not produce JWE Header with 'kid' (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2165">THORN-2165</a>] topology-openshift doesn&#8217;t work since THORN-1647 (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2166">THORN-2166</a>] topology-openshift doesn&#8217;t work in OpenShift 3.10 (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2168">THORN-2168</a>] the "uberjar" profile in Examples no longer works (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2171">THORN-2171</a>] microprofile-health fraction has a dependency on health-api (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2172">THORN-2172</a>] Thorntail product build tests failing (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2175">THORN-2175</a>] Jaeger fraction throws RuntimeException for SamplingStrategyResponse (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2178">THORN-2178</a>] FileSystemLayout will always use Maven layout if both pom.xml and build.gradle are present (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2180">THORN-2180</a>] useless dependency on microprofile-metrics-api in testsuite/microprofile-tcks/metrics (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2182">THORN-2182</a>] MP RestClient doesn&#8217;t close response on failure to parse entity (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2192">THORN-2192</a>] ConfigMap booster uses @CreateSwarm (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2195">THORN-2195</a>] Injection of RestClient into @Health bean fails with java.lang.IllegalStateException (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2198">THORN-2198</a>] JSF: Global error page from shared lib is not found in the IDE (IntelliJ) (Duplicate Issue)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2204">THORN-2204</a>] non-deterministic module.xml lookup in product with certified fractions (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_task">Task</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2111">THORN-2111</a>] remove the wildfly-swarm-enforcer-pattern-size configurations from Thorntail build (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2129">THORN-2129</a>] Thorntail website (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2149">THORN-2149</a>] Minor updates to the bom pom (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2157">THORN-2157</a>] make sure we document breaking changes in release announcements (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2162">THORN-2162</a>] Module and dependency updates to improve the PME alignment process (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2174">THORN-2174</a>] Bump jaeger client version to 0.30.6 (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2181">THORN-2181</a>] formally deprecate @CreateSwarm and remove its usage from the tests (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2183">THORN-2183</a>] remove usage of @CreateSwarm in MP JWT tests (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2185">THORN-2185</a>] Changing configuration keys from <code>swarm</code> to <code>thorntail</code> (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_documentation">Documentation</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2121">THORN-2121</a>] HowTo for using MP OpenTracing and Jaeger (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2122">THORN-2122</a>] HowTo for using MP Metrics to provide data to Prometheus (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_enhancement">Enhancement</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2163">THORN-2163</a>] don&#8217;t use fraction-list.txt to generate bom-certified (Done)</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2169">THORN-2169</a>] unify wildfly-swarm.useUberJar with the rest of the project (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_library_upgrade">Library Upgrade</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2177">THORN-2177</a>] Update MVC-Fraction to 1.0-PFD (Done)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_component_upgrade">Component Upgrade</h3>
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2193">THORN-2193</a>] Upgrade smallrye-fault-tolerance to 1.0.4 (Done)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_breaking_changes">Breaking changes</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2181">THORN-2181</a>] formally deprecate @CreateSwarm and remove its usage from the tests</p>
</li>
<li>
<p>[<a href="https://issues.jboss.org/browse/THORN-2185">THORN-2185</a>] Changing configuration keys from <code>swarm</code> to <code>thorntail</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Per usual, we tend to hang out on <code>irc.freenode.net</code> in <code>#thorntail</code>.</p>
</div>
<div class="paragraph">
<p>All bug and feature-tracking is kept in <a href="http://issues.jboss.org/browse/THORN">JIRA</a>.</p>
</div>
<div class="paragraph">
<p>Examples are available in <a href="https://github.com/thorntail/thorntail-examples/tree/2.2.1.Final" class="bare">https://github.com/thorntail/thorntail-examples/tree/2.2.1.Final</a></p>
</div>
<div class="paragraph">
<p>Documentation for this release is available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://docs.wildfly-swarm.io/2.2.1.Final/">Documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thank_you_contributors">Thank you, Contributors!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We appreciate all of our contributors since the last release:</p>
</div>
<div class="sect2">
<h3 id="_core">Core</h3>
<div class="ulist">
<ul>
<li>
<p>John Alström</p>
</li>
<li>
<p>Sergey Beryozkin</p>
</li>
<li>
<p>Ken Finnigan</p>
</li>
<li>
<p>Juan Gonzalez</p>
</li>
<li>
<p>Martin Kouba</p>
</li>
<li>
<p>Pavol Loffay</p>
</li>
<li>
<p>Matej Novotny</p>
</li>
<li>
<p>Harsha R</p>
</li>
<li>
<p>Tomas Radej</p>
</li>
<li>
<p>Harsha Ramesh</p>
</li>
<li>
<p>Ruben Romero Montes</p>
</li>
<li>
<p>Michał Szynkiewicz</p>
</li>
<li>
<p>Ladislav Thon</p>
</li>
<li>
<p>Gregor Tudan</p>
</li>
</ul>
</div>
</div>
</div>
</div></div></article></div></div></div></div><div class="footer-v1"><div class="footer"><div class="container"><div class="row"><div class="col-sm-6 md-margin-bottom-40"><p class="text-center"><Copyright>2016 - 2019 <a href="http://redhat.com">Red Hat, Inc.</a> | Thorntail is Open Source Software</Copyright></p></div></div></div></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83419890-2', 'auto');
ga('send', 'pageview');

ga('create', 'UA-6435340-8', 'auto');
ga('send', 'pageview');
</script><script type="text/javascript" src="/assets/js/highlight.pack.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery.min.js"></script><script type="text/javascript" src="/assets/plugins/jquery/jquery-migrate.min.js"></script><script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script><script type="text/javascript" src="/assets/plugins/back-to-top.js"></script><script type="text/javascript" src="/assets/plugins/smoothScroll.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/modernizr.js"></script><script type="text/javascript" src="/assets/plugins/parallax-slider/js/jquery.cslider.js"></script><script type="text/javascript" src="/assets/plugins/owl-carousel/owl-carousel/owl.carousel.js"></script><script type="text/javascript" src="/assets/js/custom.js"></script><script type="text/javascript" src="/assets/js/app.js"></script><script type="text/javascript" src="/assets/js/plugins/owl-carousel.js"></script><script type="text/javascript" src="/assets/js/plugins/style-switcher.js"></script><script type="text/javascript" src="/assets/js/plugins/parallax-slider.js"></script><script>(function() {

  jQuery(document).ready(function() {
    App.init();
    OwlCarousel.initOwlCarousel();
    StyleSwitcher.initStyleSwitcher();
    ParallaxSlider.initParallaxSlider();

    hljs.initHighlightingOnLoad();
  });

})();
</script></body></html>